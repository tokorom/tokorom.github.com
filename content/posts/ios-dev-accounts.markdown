---
layout: post
title: "会社でiOSアプリを扱うときのアカウント管理はこうするべきだった？"
date: 2013-11-05
comments: true
external-url: 
tags: [ios,publish]
aliases: [/2013/11/05/ios-dev-accounts/]
authors: [tokorom]
---

## 2013年11月18日 追記

この記事を書いた後、何人かのかたから「うちでは同じApple IDで両方とも使えているよ」というご指摘をいただき、

- `Member Centerのほうにアカウント追加` -> `iTunes Connectに同じアカウント追加`という順番だと「警告は出るもののかまわずContinueすれば」同じApple IDでアカウント作成可能
- `iTunes Connectにアカウント追加` -> `Member Centerに同じ追加`という順番だと「複雑な手順にはなるものの適切な手順を通せば」同じApple IDでアカウント作成可能

失礼しました。  
追加情報などあれば是非おねがいします！

## 概要

私はiOSアプリの開発を3年以上やっていますが、恥ずかしながら会社でこのためのアカウントを管理/運用する方法をきちんと把握できていませんでした。  
というのも個人で開発するぶんにはそんな管理は必要なかったですし、これまで会社でアプリ開発するときも限られた数人だけが担当していたのでアカウントの管理とか必要がなかったのです（というのが言い訳です）。

おそらく、企業でiOSアプリ開発をしている人にとっては普通のことなんでしょうけど、私は今回はじめて知った部分がいくつかあったのでまとめさせていただきます。  
どこかで困っているどなたかに参考になれば良いなというのと、もっとこうしたほうが良いというご意見をいただくのが目的です。

## iOS Dev Center の構成

まず、iOS Dev Centerで今回説明する部分は以下のような構成になっています。

![iOSDevCenterStruct](https://raw.githubusercontent.com/tokorom/tokorom.github.com/images/images/iOSDevCenterStruct.png)

大きくは、

- iOS Developer Program
- Member Center
- iTunes Connect

に分かれます。

## メンバーを追加する方法が２つある？？

今回、私が混乱してしまった部分がここでした。  
iOSアプリ開発/公開のために必要なアカウントは、

- `Member Center`の`People`
- `iTunes Connect`の`Manage Users`

の2カ所で管理されています。  
また、この２つのアカウントはそれぞれ別々の用途になります。  

個人開発のアカウントや、会社の代表アカウントを使う際には１つのアカウントでこの２つの役割を同時に担ってくれるため、この２つが違うということを気にしなくても良かったのです。

<!-- more -->

## Member CenterのPeopleに追加すべきユーザは？

主に`iOS Developer Program`のページを使うプログラマです。

- Certificate（証明書）の発行
- Device（開発機）の登録
- App ID の登録
- Provisioning Profile の発行

が必要なユーザがこれに該当します。

## iTunes ConnectのManage Usersに追加すべきユーザは？

リリース担当、経理担当、法務担当などです。

- アプリのリリースと管理
- 売り上げやダウンロード数の確認
- 銀行、税金情報などの管理

が必要なユーザがこれに該当します。

## 留意すべきこと

- <s>この2つに同じApple ID（メールアドレス）で登録することはできない</s>
- Member Centerだけに登録されたユーザでは`iOS Developer Program`に入れないため開発時に困ることがある
- iTunes Connectだけに登録されたユーザでは`iTunes Connect`に入れないためリリース作業ができない

<s>この２つで別々のアカウントを用意しなくてはならないというところがポイントになります。</s>
<s>また、通常、社員一人に対して１つのメールアドレスしかないため工夫が必要になります。</s>

## 会社での運用はこうするのが良いのでは？

- 社員一人ごとに適切な権限のアカウントを個別に発行する
- `iOS Developer Program`にアクセスが必要な社員には<s> 社員名+dev@xxx.com をID＆メールアドレスとしてアカウントを発行する</s> そのアカウントだけを発行する
    - <s>例：yuta-tokoro<b>+dev</b>@xxx.com</s>
- 'iTunes Connect'にアクセスが必要な社員には<s> 社員名+itunes@xxx.com をID＆メールアドレスとしてアカウントを発行する</s> そのアカウントだけを発行する
    - <s>例：yuta-tokoro<b>+itunes</b>@xxx.com</s>

## 会社でやらないほうが良さそうなこと

- 代表アカウント（Agent）を多数のメンバーで使い回してはいけない
    - このIDは `iOS Developer Program`にも`iTunes Connect`にも入れる最強IDだが...
    - 最強IDを不特定多数の人に展開すると社員の出入りがあったときにその管理が煩雑になる
        - 放置しておくと悪意のある退職者が公開中のアプリを削除するなどが可能
- <s>アカウントを発行する際にメールアドレスをそのまま使ってしまわないほうが良さそう（前述のとおり +dev +itunes をつける）</s>

## まとめ

ということで、会社でiOSアプリ開発/運用に必要なアカウントを作る場合には、

- <s>１つのメールアドレスで２つのアカウントが作れるような運用をするのが良さそう</s>
- 代表アカウントをみんなで使い回さないように注意すべし

といったところです。

